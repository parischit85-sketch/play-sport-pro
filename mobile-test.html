<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Play Sport Pro - Test Mobile</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background: #f5f5f5;
        }
        
        .mobile-container {
            max-width: 375px;
            margin: 20px auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
            overflow: hidden;
            position: relative;
        }
        
        .status-bar {
            height: 44px;
            background: #000;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            font-size: 14px;
            font-weight: 500;
        }
        
        .app-frame {
            height: 700px;
            border: none;
            width: 100%;
            display: block;
        }
        
        .test-controls {
            background: #333;
            color: white;
            padding: 15px;
            text-align: center;
        }
        
        .test-btn {
            background: #007AFF;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            margin: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .test-btn:hover {
            background: #005BBB;
        }
        
        .notification-demo {
            position: absolute;
            top: 50px;
            left: 10px;
            right: 10px;
            background: white;
            border-radius: 12px;
            padding: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transform: translateY(-100px);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
        }
        
        .notification-demo.show {
            transform: translateY(0);
            opacity: 1;
        }
        
        .notif-icon {
            width: 24px;
            height: 24px;
            background: #007AFF;
            border-radius: 6px;
            display: inline-block;
            vertical-align: middle;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <h1 style="text-align: center; color: #333;">📱 Play Sport Pro - Mobile Test</h1>
    
    <div class="mobile-container">
        <div class="status-bar">
            <span>9:41</span>
            <span>🔋 100%</span>
        </div>
        
        <div class="notification-demo" id="notificationDemo">
            <div class="notif-icon"></div>
            <strong>Play Sport Pro</strong><br>
            <span id="notifText">Test notification</span>
        </div>
        
        <iframe 
            class="app-frame" 
            src="http://localhost:5173"
            id="appFrame">
        </iframe>
        
        <div class="test-controls">
            <h3>🧪 Test Controls</h3>
            <button class="test-btn" onclick="testBookingNotification()">📅 Test Prenotazione</button>
            <button class="test-btn" onclick="testMatchNotification()">🏆 Test Partita</button>
            <button class="test-btn" onclick="testTournamentNotification()">🏆 Test Torneo</button>
            <button class="test-btn" onclick="toggleFullscreen()">📱 Fullscreen</button>
            <button class="test-btn" onclick="reloadApp()">🔄 Ricarica App</button>
        </div>
    </div>

    <div style="max-width: 600px; margin: 20px auto; padding: 20px; background: white; border-radius: 10px;">
        <h2>📋 Opzioni di Test</h2>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <div>
                <h3>🌐 Browser Test (Corrente)</h3>
                <ul>
                    <li>✅ Veloce e immediato</li>
                    <li>✅ Debug facile con Dev Tools</li>
                    <li>✅ Simulazione notifiche</li>
                    <li>❌ Limitato per funzioni native</li>
                </ul>
            </div>
            <div>
                <h3>📱 Android Emulator</h3>
                <ul>
                    <li>✅ Test completo funzioni native</li>
                    <li>✅ Notifiche reali</li>
                    <li>✅ Performance realistiche</li>
                    <li>❌ Richiede Android Studio</li>
                </ul>
            </div>
        </div>
        
        <h3>🔗 Collegamenti Rapidi</h3>
        <p>
            <a href="http://localhost:5173" target="_blank" style="color: #007AFF;">🌐 Apri App in Nuova Tab</a> |
            <a href="http://localhost:5173/?test=mobile" target="_blank" style="color: #007AFF;">📱 Modalità Mobile</a> |
            <a href="javascript:window.open('http://localhost:5173', 'mobile', 'width=375,height=812')" style="color: #007AFF;">📱 Finestra Mobile</a>
        </p>
    </div>

    <script>
        function showNotification(text) {
            const demo = document.getElementById('notificationDemo');
            const textEl = document.getElementById('notifText');
            textEl.textContent = text;
            demo.classList.add('show');
            setTimeout(() => demo.classList.remove('show'), 3000);
        }

        function testBookingNotification() {
            showNotification('✅ Campo 1 prenotato per oggi alle 18:00');
        }

        function testMatchNotification() {
            showNotification('🏆 Vittoria! Punteggio: 6-4, 6-2');
        }

        function testTournamentNotification() {
            showNotification('🏆 Nuovo Torneo: Campionato Primavera - Iscriviti ora!');
        }

        function toggleFullscreen() {
            const container = document.querySelector('.mobile-container');
            if (container.requestFullscreen) {
                container.requestFullscreen();
            }
        }

        function reloadApp() {
            document.getElementById('appFrame').src = 'http://localhost:5173?' + Date.now();
        }

        // Auto-reload se l'app non è disponibile
        document.getElementById('appFrame').onerror = function() {
            this.src = '../dist/index.html';
        };
    </script>
</body>
</html>
