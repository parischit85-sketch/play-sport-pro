{
  "timestamp": "2025-10-06T08:48:12.258Z",
  "rootCollections": [
    {
      "name": "affiliations",
      "count": 33,
      "sample": {
        "id": "3sg14giw_sporting-cat",
        "fields": [
          "userId",
          "clubId",
          "role",
          "isClubAdmin",
          "status",
          "joinedAt",
          "_createdAt",
          "_updatedAt"
        ]
      }
    },
    {
      "name": "backups",
      "count": 37,
      "sample": {
        "id": "auto-backup-1757202509410",
        "fields": [
          "timestamp",
          "version",
          "type",
          "data"
        ]
      }
    },
    {
      "name": "bookings",
      "count": 107,
      "sample": {
        "id": "1nT0iEzO5jPGpOnww1Jp",
        "fields": [
          "clubId",
          "participants",
          "price",
          "isLessonBooking",
          "courtId",
          "legacyId",
          "heating",
          "createdBy",
          "lessonType",
          "time",
          "notes",
          "userEmail",
          "courtName",
          "instructorId",
          "status",
          "userPhone",
          "lighting",
          "date",
          "instructorName",
          "players",
          "duration",
          "type",
          "createdAt",
          "updatedAt",
          "_migratedFrom",
          "_migratedAt",
          "_migratedBookedBy",
          "bookedBy"
        ]
      }
    },
    {
      "name": "clubs",
      "count": 1,
      "sample": {
        "id": "sporting-cat",
        "fields": [
          "id",
          "name",
          "displayName",
          "description",
          "country",
          "phone",
          "email",
          "website",
          "settings",
          "openingHours",
          "owners",
          "staff",
          "status",
          "isPublic",
          "allowRegistration",
          "stats",
          "createdAt",
          "address",
          "closingTime",
          "city",
          "openingTime",
          "courts",
          "emailNotifications",
          "depositAmount",
          "maxBookingDuration",
          "allowMultipleBookings",
          "autoApproveMembers",
          "smsNotifications",
          "weekendPrice",
          "primaryColor",
          "reminderHours",
          "weekdayPrice",
          "requireDeposit",
          "allowGuestBookings",
          "slotDuration",
          "requireMembershipApproval",
          "maxAdvanceBookingDays",
          "memberDiscount",
          "minBookingDuration",
          "fiscalCode",
          "facilities",
          "vatNumber",
          "_updatedAt",
          "managers",
          "courtTypes",
          "updatedAt",
          "logoUrl"
        ]
      }
    },
    {
      "name": "leagues",
      "count": 1,
      "sample": {
        "id": "lega-andrea-2025",
        "fields": [
          "_restored",
          "players",
          "lessonConfig",
          "_lastBookingUpdate",
          "_configNonce",
          "_lastBookingId",
          "matches",
          "createdAt",
          "_forceRefresh",
          "createdBy",
          "bookings",
          "lessonBookings",
          "bookingConfig",
          "_lastWriter",
          "courts",
          "_rev",
          "_updatedAt"
        ]
      }
    },
    {
      "name": "profiles",
      "count": 33,
      "sample": {
        "id": "3sg14giw",
        "fields": [
          "wins",
          "name",
          "rating",
          "id",
          "baseRating",
          "losses",
          "matches",
          "updatedAt",
          "firstName",
          "lastName",
          "migratedAt",
          "displayName",
          "clubName",
          "clubId",
          "isLegacyMember"
        ]
      }
    },
    {
      "name": "userClubRoles",
      "count": 1,
      "sample": {
        "id": "FrewudyR6jSesgzYIe5do1iJKJf1",
        "fields": [
          "userId",
          "createdAt",
          "roles",
          "updatedAt"
        ]
      }
    },
    {
      "name": "users",
      "count": 9,
      "sample": {
        "id": "5T0OJxTJuDOXJoeHjo5keLkoo122",
        "fields": [
          "email",
          "isActive",
          "status",
          "dateOfBirth",
          "bio",
          "avatar",
          "globalRole",
          "displayName",
          "version",
          "createdAt",
          "registeredAt",
          "firstName",
          "lastName",
          "address",
          "phone",
          "fiscalCode",
          "birthDate",
          "lastLoginAt",
          "updatedAt"
        ]
      }
    }
  ],
  "clubData": [
    {
      "clubId": "sporting-cat",
      "clubName": "Sporting Cat",
      "subcollections": [
        {
          "name": "affiliations",
          "count": 35,
          "sampleFields": [
            "clubId",
            "role",
            "status",
            "userId",
            "_createdAt",
            "isClubAdmin",
            "_updatedAt",
            "joinedAt",
            "syncedAt",
            "syncedFrom"
          ]
        },
        {
          "name": "bookings",
          "count": 298,
          "sampleFields": [
            "heating",
            "status",
            "createdBy",
            "price",
            "time",
            "players",
            "userEmail",
            "userPhone",
            "duration",
            "courtName",
            "courtId",
            "date",
            "bookedBy",
            "lighting",
            "createdAt",
            "updatedAt",
            "notes",
            "clubId",
            "_migratedAt"
          ]
        },
        {
          "name": "courts",
          "count": 7,
          "sampleFields": [
            "timeSlots",
            "migratedAt",
            "hasPromo",
            "id",
            "clubName",
            "clubId",
            "hasHeating",
            "_migratedAt",
            "firebaseId",
            "name",
            "courtType",
            "order"
          ]
        },
        {
          "name": "matches",
          "count": 13,
          "sampleFields": [
            "teamB",
            "gamesB",
            "teamA",
            "gamesA",
            "setsA",
            "date",
            "sets",
            "setsB",
            "clubId",
            "deltaA",
            "deltaB",
            "winner",
            "createdAt"
          ]
        },
        {
          "name": "players",
          "count": 32,
          "sampleFields": [
            "id",
            "name",
            "displayName",
            "email",
            "phone",
            "isActive",
            "isClubAdmin",
            "joinedAt",
            "_createdAt",
            "_updatedAt",
            "_migratedAt",
            "stats",
            "lastMatchId",
            "rating",
            "baseRating",
            "updatedAt"
          ]
        },
        {
          "name": "profiles",
          "count": 41,
          "sampleFields": [
            "migratedAt",
            "baseRating",
            "clubName",
            "matches",
            "wins",
            "name",
            "rating",
            "id",
            "losses",
            "clubId",
            "_migrated",
            "_originalId",
            "_clubId",
            "_migratedAt",
            "tournamentData",
            "updatedAt"
          ]
        },
        {
          "name": "settings",
          "count": 1,
          "sampleFields": [
            "createdAt",
            "updatedBy",
            "bookingConfig",
            "lessonConfig",
            "updatedAt"
          ]
        },
        {
          "name": "timeSlots",
          "count": 1,
          "sampleFields": [
            "instructorId",
            "date",
            "startTime",
            "endTime",
            "courtId",
            "courtIds",
            "courtName",
            "isAvailable",
            "isBooked",
            "price",
            "notes",
            "createdAt",
            "isActive",
            "updatedAt"
          ]
        },
        {
          "name": "userClubRoles",
          "count": 1,
          "sampleFields": [
            "userId",
            "updatedAt",
            "createdAt",
            "roles",
            "_migrated",
            "_originalId",
            "_clubId",
            "_migratedAt"
          ]
        },
        {
          "name": "users",
          "count": 34,
          "sampleFields": [
            "userEmail",
            "status",
            "userPhone",
            "clubId",
            "originalUserData",
            "hasCompleteProfile",
            "role",
            "migratedFrom",
            "userId",
            "addedAt",
            "migratedAt",
            "mergedData",
            "userName",
            "updatedAt"
          ]
        }
      ]
    }
  ],
  "issues": [
    {
      "type": "DUPLICAZIONE",
      "collection": "bookings",
      "description": "Bookings sia in root (107) che in clubs (298)",
      "severity": "ALTA"
    },
    {
      "type": "MIGRAZIONE INCOMPLETA",
      "collection": "users",
      "description": "Profili in entrambe le collezioni (migrazione in corso)",
      "severity": "MEDIA"
    },
    {
      "type": "LEGACY",
      "collection": "leagues",
      "description": "Sistema legacy ancora presente",
      "severity": "BASSA"
    }
  ]
}