<!DOCTYPE html>
<html>
<head>
    <title>Debug LocalStorage</title>
</head>
<body>
    <h1>Debug Dati Salvati</h1>
    <div id="output"></div>
    
    <script>
        const output = document.getElementById('output');
        
        // Controlla le chiavi del localStorage
        const keys = Object.keys(localStorage);
        output.innerHTML += `<h2>Chiavi trovate (${keys.length})</h2>`;
        keys.forEach(key => {
            output.innerHTML += `<p><strong>${key}</strong>: ${localStorage.getItem(key).length} caratteri</p>`;
        });
        
        // Controlla specificamente la chiave della lega
        const leagueData = localStorage.getItem('paris-league-v1');
        if (leagueData) {
            const parsed = JSON.parse(leagueData);
            output.innerHTML += `<h2>Dati Lega Trovati</h2>`;
            output.innerHTML += `<p>Giocatori: ${parsed.players?.length || 0}</p>`;
            output.innerHTML += `<p>Partite: ${parsed.matches?.length || 0}</p>`;
            output.innerHTML += `<p>Campi: ${parsed.courts?.length || 0}</p>`;
            output.innerHTML += `<p>Prenotazioni: ${parsed.bookings?.length || 0}</p>`;
        } else {
            output.innerHTML += `<h2>❌ Nessun dato della lega trovato</h2>`;
        }
        
        // Controlla i booking separati
        const bookings = localStorage.getItem('padel-bookings');
        if (bookings) {
            const parsed = JSON.parse(bookings);
            output.innerHTML += `<h2>Prenotazioni Separate</h2>`;
            output.innerHTML += `<p>Count: ${Array.isArray(parsed) ? parsed.length : 'Non è un array'}</p>`;
        }
    </script>
</body>
</html>
